
; WRITE AN ALP TO ADD AN ARRAY OF 16 BIT NUMBERS AND STORE THE RESULT IN 32 BIT IN INTERNAL RAM

	AREA PROGRAM, CODE, READONLY				; PROGRAM PREREQUISITES IN READ ONLY MEMORY
	ENTRY										; BEGINNING OF PROGRAM
			
	MOV R0, # 0									; INITIALIZE R0 WITH ZERO
	LDR R1, = ARRAY								; LOAD THE ADDRESS OF "ARRAY" INTO R1
	
	LDR R2, = ARRAYSIZE							; LOAD ADDRESS OF "SIZE" IN R2
	LDR R3, [R2]								; LOAD THE CONTENT OF "SIZE" IN R3
	
LOOP LDRH R4, [R1], #2							; LOAD R4 WITH ITERABLE CONTENT OF "ARRAY", INCREMENT ARRAY COUNTER
     ADD R0, R0, R4								; R0 = R0 + R4
	 SUB R3, R3, #1								; SUBTRACT ARRAYSIZE BY ONE
	 CMP R3, # 0								; CHECK IF ARRAYSIZE IS EQUAL TO ZERO
	 BEQ STORE									; IF ARRAYSIZE IS ZERO, BRANCH TO LABEL "STORE"
	 BNE LOOP									; LOOP UNTIL ZERO FLAG IS SET HIGH
	 
STORE LDR R4, = SUM								; LOAD ADDRESS OF "SUM" INTO R4
	  STR R0, [R4]								; STORE CONTENT OF R0 INTO R4
	  
STOP B STOP										; INFINITE LOOP

ARRAYSIZE DCD 05								; ARRAYSIZE
ARRAY DCW 0011, 0022, 0033, 0044, 0055			; DEFINING ARRAY LIST

	AREA WRITEDATA, DATA, READWRITE				; PROGRAM PREREQUISITES IN READ WRITE MEMORY
SUM DCD 0X40000000								; LOCATION WHERE THE SUM OF ARRAY ELEMENTS IS TO BE STORED
	END											; END OF PROGRAM